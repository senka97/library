<app-header></app-header>
<div class="d-grid gap-2 d-md-flex justify-content-md-end mt-4 me-5" >
  <button class="btn btn-secondary" data-bs-toggle="modal" data-bs-target="#exampleModal" type="button" (click)="createNewUser()">New User</button>
</div>
<div class="container mt-5 ms-auto me-auto text-center">
  <table class="table table-bordered table-striped table-hover">
    <thead>
      <tr>
        <th scope="col">Username</th>
        <th scope="col">First Name</th>
        <th scope="col">Last Name</th>
        <th scope="col">Edit</th>
        <th scope="col">Delete</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let user of users" (click)="goToUserDetails(user.username)">  
        <td class='item' >{{user.username}}</td> 
        <td class='item'>{{user.firstName}}</td> 
        <td class='item'>{{user.lastName}}</td> 
        <td><button type="button" class="btn btn-outline-primary item" data-bs-toggle="modal" data-bs-target="#exampleModal" (click)="editUser(user)" >Edit</button></td>
        <td><button *ngIf = "canDelete(user)" type="button" class="btn btn-outline-danger item" (click)='deleteUser(user)'>Delete</button></td>
      </tr> 
    </tbody>
  </table>
  <app-modal-dialog [modalType]="modalType" [action]="modalAction" [user]="user" [userForm]="userForm" [title]="modalTitle" (createUserEvent)="addUserEvent($event)" (editUserEvent)="editUserEvent()"></app-modal-dialog>
</div>



